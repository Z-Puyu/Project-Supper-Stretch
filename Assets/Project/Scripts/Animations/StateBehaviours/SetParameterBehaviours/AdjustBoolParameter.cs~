using UnityEngine;

namespace Project.Scripts.Animations.StateBehaviours.SetParameterBehaviours;

public class AdjustBoolParameter : AdjustParameterCommand {
    private enum Operation { Toggle, SetTrue, SetFalse }

    [field: SerializeField]
    private Operation Operator { get; set; } = Operation.Toggle;
    
    public override void Execute(Animator animator) {
        base.Execute(animator);
        switch (this.Operator) {
            case Operation.Toggle:
                animator.SetBool(this.ParameterId ?? 0, !animator.GetBool(this.ParameterId ?? 0));
                break;
            case Operation.SetTrue:
                animator.SetBool(this.ParameterId ?? 0, true);
                break;
            case Operation.SetFalse:
                animator.SetBool(this.ParameterId ?? 0, false);
                break;
        }
    }
}
